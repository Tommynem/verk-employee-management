@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* Brand gradient buttons */
  .btn-brand-orange {
    @apply bg-gradient-to-b from-brand-orange to-brand-orange-dark text-white font-medium;
    @apply hover:brightness-110 active:brightness-95;
    @apply shadow-md hover:shadow-lg transition-all;
  }

  /* Status badges */
  .badge-status-paid {
    @apply bg-green-100 text-green-700 border-0;
  }

  .badge-status-unpaid {
    @apply bg-amber-100 text-amber-700 border-0;
  }

  .badge-status-overdue {
    @apply bg-red-100 text-red-700 border-0;
  }

  /* Direction badges - CONSISTENT COLORS across all entities */
  .badge-direction-incoming {
    @apply bg-green-100 text-green-700 border-0;
  }

  .badge-direction-outgoing {
    @apply bg-red-100 text-red-700 border-0;
  }

  .badge-direction-in {
    @apply bg-green-100 text-green-700 border-0;
  }

  .badge-direction-out {
    @apply bg-red-100 text-red-700 border-0;
  }

  /* Section headers with icon support */
  .section-header {
    @apply text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3;
    @apply flex items-center gap-2;
  }

  /* Interactive card hover enhancement */
  .card-interactive {
    @apply hover:shadow-xl hover:border-brand-orange/30 transition-all duration-200;
    @apply hover:-translate-y-0.5;
  }

  /* Form Section Container */
  .form-section {
    @apply border border-base-300 rounded-lg p-4 mb-6 bg-base-100/50;
  }

  .form-section-pricing {
    @apply border-brand-orange/30 bg-brand-orange/5;
  }

  .form-section-content {
    @apply pt-2;
  }

  /* Form Section Legend/Header */
  .form-section-legend {
    @apply text-sm font-semibold text-gray-500 uppercase tracking-wide;
    @apply flex items-center gap-2 px-2 -ml-2;
  }

  /* Input with suffix (EUR/% indicator) */
  .input-with-suffix {
    @apply relative;
  }

  .input-with-suffix input {
    @apply pr-14;
  }

  .input-suffix {
    @apply absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 font-medium pointer-events-none;
  }

  /* Dual input row (for percent + EUR discount) */
  .dual-input-row {
    @apply grid grid-cols-2 gap-3;
  }

  /* Net amount display (calculated total) */
  .net-amount-display {
    @apply bg-brand-orange/10 border-2 border-brand-orange rounded-lg p-4;
    @apply flex justify-between items-center mt-4;
  }

  .net-amount-value {
    @apply text-xl font-bold text-brand-orange;
  }

  /* Field hint text */
  .field-hint {
    @apply text-xs text-base-content/50 mt-1;
  }

  /* Document upload zone */
  .document-upload-zone {
    @apply transition-colors duration-200;
  }

  .document-upload-zone.drag-over {
    @apply border-primary bg-base-200 border-solid;
  }
}

/* Custom Scrollbar Styling */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: oklch(var(--b1) / 1);
}

::-webkit-scrollbar-thumb {
    background: oklch(var(--b3) / 1);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: oklch(var(--bc) / 0.3);
}

/* Focus ring utilities for accessibility */
.btn:focus-visible,
button:focus-visible {
    outline: 2px solid oklch(var(--bc) / 0.7);
    outline-offset: 2px;
}

/* Form controls focus */
.input:focus-visible,
.textarea:focus-visible,
.select:focus-visible {
    outline: 2px solid oklch(var(--p));
    outline-offset: 1px;
}

/* Card focus for keyboard navigation */
.card:focus-visible,
[role="button"]:focus-visible {
    outline: 2px solid oklch(var(--p));
    outline-offset: 2px;
}

/* Icon button focus */
.btn-ghost:focus-visible,
.btn-circle:focus-visible {
    outline: 2px solid oklch(var(--bc) / 0.5);
    outline-offset: 2px;
    background-color: oklch(var(--bc) / 0.1);
}

/* Flatpickr Theme Styling */
.flatpickr-calendar {
    background: oklch(var(--b2) / 1) !important;
    border: 1px solid oklch(var(--b3) / 1) !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
    color: oklch(var(--bc) / 1) !important;
}

.flatpickr-calendar.arrowTop:before,
.flatpickr-calendar.arrowTop:after {
    border-bottom-color: oklch(var(--b2) / 1) !important;
}

.flatpickr-calendar.arrowBottom:before,
.flatpickr-calendar.arrowBottom:after {
    border-top-color: oklch(var(--b2) / 1) !important;
}

.flatpickr-months {
    background: oklch(var(--b2) / 1) !important;
    color: oklch(var(--bc) / 1) !important;
    fill: oklch(var(--bc) / 1) !important;
    padding-top: 10px;
}

.flatpickr-months .flatpickr-month {
    background: transparent !important;
    color: oklch(var(--bc) / 1) !important;
    fill: oklch(var(--bc) / 1) !important;
}

.flatpickr-current-month .flatpickr-monthDropdown-months {
    background: oklch(var(--b2) / 1) !important;
    color: oklch(var(--bc) / 1) !important;
}

.flatpickr-current-month .flatpickr-monthDropdown-months:hover {
    background: oklch(var(--b3) / 1) !important;
}

.flatpickr-current-month input.cur-year {
    color: oklch(var(--bc) / 1) !important;
}

.flatpickr-weekdays {
    background: oklch(var(--b2) / 1) !important;
}

span.flatpickr-weekday {
    background: oklch(var(--b2) / 1) !important;
    color: oklch(var(--bc) / 1) !important;
    opacity: 0.6;
}

.flatpickr-day {
    color: oklch(var(--bc) / 1) !important;
}

.flatpickr-day.flatpickr-disabled,
.flatpickr-day.flatpickr-disabled:hover {
    color: oklch(var(--bc) / 1) !important;
    opacity: 0.1;
}

.flatpickr-day:hover,
.flatpickr-day.prevMonthDay:hover,
.flatpickr-day.nextMonthDay:hover,
.flatpickr-day:focus {
    background: oklch(var(--b3) / 1) !important;
    border-color: oklch(var(--b3) / 1) !important;
    color: oklch(var(--bc) / 1) !important;
}

/* Selected Day - Primary Color */
.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange,
.flatpickr-day.selected.inRange,
.flatpickr-day.startRange.inRange,
.flatpickr-day.endRange.inRange,
.flatpickr-day.selected:focus,
.flatpickr-day.startRange:focus,
.flatpickr-day.endRange:focus,
.flatpickr-day.selected:hover,
.flatpickr-day.startRange:hover,
.flatpickr-day.endRange:hover,
.flatpickr-day.selected.prevMonthDay,
.flatpickr-day.startRange.prevMonthDay,
.flatpickr-day.endRange.prevMonthDay,
.flatpickr-day.selected.nextMonthDay,
.flatpickr-day.startRange.nextMonthDay,
.flatpickr-day.endRange.nextMonthDay {
    background: oklch(var(--p) / 1) !important;
    border-color: oklch(var(--p) / 1) !important;
    color: oklch(var(--pc) / 1) !important;
}

/* Today - Border Color */
.flatpickr-day.today {
    border-color: oklch(var(--p) / 1) !important;
}

.flatpickr-day.today:hover {
    background: oklch(var(--b3) / 1) !important;
    color: oklch(var(--bc) / 1) !important;
}

.flatpickr-day.selected.today {
    background: oklch(var(--p) / 1) !important;
    color: oklch(var(--pc) / 1) !important;
}

/* Prev/Next Month Arrow SVG fill */
.flatpickr-prev-month svg,
.flatpickr-next-month svg {
    fill: oklch(var(--bc) / 1) !important;
}

.flatpickr-prev-month:hover svg,
.flatpickr-next-month:hover svg {
    fill: oklch(var(--p) / 1) !important;
}

/* Time Picker */
.flatpickr-time {
    background: oklch(var(--b2) / 1) !important;
    border-top: 1px solid oklch(var(--b3) / 1) !important;
}

.flatpickr-time .flatpickr-time-separator,
.flatpickr-time .flatpickr-am-pm {
    color: oklch(var(--bc) / 1) !important;
}

.flatpickr-time input {
    color: oklch(var(--bc) / 1) !important;
}

.flatpickr-time input:hover,
.flatpickr-time .flatpickr-am-pm:hover,
.flatpickr-time input:focus,
.flatpickr-time .flatpickr-am-pm:focus {
    background: oklch(var(--b3) / 1) !important;
}
